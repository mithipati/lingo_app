<% provide(:title, 'Groups') %>
<%= link_to "Back", root_path %>
<%= link_to "Create group", new_group_path, id: "create-group-link" %>
<h1>Groups:</h1>
<div class="fluid-container">
  <% @groups.each do |group| %>
  <div class="row group-container">
    <div class="col-xs-12 col-md-4 image-space">
      <%= image_tag group.group_pic_url, id: "group-pic" %>
    </div>
    <div class="col-xs-12 col-md-8 text-space">
      <p class="group-name">
        <%= link_to group.name, group_path(group) %>
        (<%= group.words.count %>)
        <% unless current_user.subscriptions.where(group_id: group.id).blank? %>
          Following |
          <small>
            <%= link_to "Unfollow", group_subscription_path(group_id: group.id, id: current_user.subscriptions.where(group_id: group.id).first), method: :delete %>
          </small>
        <% else %>
          <%= link_to "Follow", group_subscriptions_path(group_id: group.id), method: :post %>
        <% end %>
      </p>
        <br>
      <p class="group-description">
        <%= group.description %>
      </p>
    </div>
  </div>
  <% end %>
</div>
